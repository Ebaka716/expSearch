<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Financial Services Search - Floating Input</title>
    <link rel="stylesheet" href="expSearchFloatingInput.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Add Highcharts -->
    <script src="https://code.highcharts.com/stock/highstock.js"></script>
    <script src="https://code.highcharts.com/stock/modules/data.js"></script>
    <script src="https://code.highcharts.com/stock/modules/exporting.js"></script>
    <script src="https://code.highcharts.com/stock/modules/export-data.js"></script>
    <script src="https://code.highcharts.com/stock/modules/accessibility.js"></script>
</head>
<body>
    <!-- Controls Header - moved from floating position to top of page -->
    <div class="controls-header">
        <div class="container">
            <div class="controls-wrapper">
                <div class="confidence-control-group">
                    <div class="confidence-label">Confidence Level:</div>
                    <input type="range" id="confidenceSlider" min="0" max="100" value="50" class="confidence-slider">
                    <div class="confidence-value"><span id="confidenceValue">50</span>%</div>
                </div>
                <div class="buttons-group">
                    <button id="wireframeToggleBtn" class="template-btn">Wireframe</button>
                    <button id="infoButtonResults" class="template-btn info-button-results"><i class="fas fa-info-circle"></i> Info</button>
                </div>
            </div>
        </div>
    </div>

    <header class="site-header">
        <!-- Applying container class directly for consistent width -->
        <div class="header-container container"> 
            <div class="logo">
                <h1>Theta Corp</h1>
            </div>
        </div>
    </header>

    <main class="main-content">
        <!-- Multi-section results area (without top search input) -->
        <div class="results-container container template-two"> 
            <!-- 1. Answer Section (High Confidence) -->
            <section id="answerSection" class="results-section answer-section">
                <h4 class="section-title">
                    <i class="fas fa-atom"></i> Theta Assistant
                    <span class="confidence-badge">Live Data</span>
                </h4>
                <div class="answer-content">
                    <div class="answer-highlight">
                        <h5 id="stockSymbol">What is a high-yield savings account?</h5>
                        
                        <!-- Default Content Area -->
                        <div id="defaultAnswerContent"> 
                            <div class="basic-answer">
                                A high-yield savings account is a type of deposit account that pays a higher interest rate than a standard savings account.
                            </div>
                            <div class="expanded-answer">
                                These accounts typically offer 10-25 times the national average of a standard savings account interest rate, allowing your money to grow faster while remaining liquid and FDIC-insured.
                            </div>
                            <div class="detailed-answer">
                                Most high-yield savings accounts are offered by online banks, which can offer higher rates due to their lower overhead costs compared to traditional brick-and-mortar banks. Interest is typically compounded daily and paid monthly. While rates can fluctuate based on the Federal Reserve\'s decisions, they generally remain higher than standard savings accounts.
                            </div>
                            <!-- Add chart container for savings rates here if needed -->
                            <div id="savingsRatesChart" style="margin-top: 20px; display: none;"></div> 
                        </div>

                        <!-- Stock Details Area (Initially Hidden) -->
                        <div id="stockDetails" class="stock-details" style="display: none;"> 
                            <div class="stock-header">
                                <div id="stockName" class="stock-name"></div>
                            </div>
                            <div class="stock-metrics">
                                <div class="metric-group">
                                    <div class="metric">
                                        <span class="metric-label">Current Price</span>
                                        <span id="stockPrice" class="metric-value">-</span>
                                    </div>
                                    <div class="metric">
                                        <span class="metric-label">Change</span>
                                        <span id="stockChange" class="metric-value">-</span>
                                    </div>
                                </div>
                                <div class="metric-group">
                                    <div class="metric">
                                        <span class="metric-label">Open</span>
                                        <span id="stockOpen" class="metric-value">-</span>
                                    </div>
                                    <div class="metric">
                                        <span class="metric-label">Volume</span>
                                        <span id="stockVolume" class="metric-value">-</span>
                                    </div>
                                </div>
                                <div class="metric-group">
                                    <div class="metric">
                                        <span class="metric-label">High</span>
                                        <span id="stockHigh" class="metric-value">-</span>
                                    </div>
                                    <div class="metric">
                                        <span class="metric-label">Low</span>
                                        <span id="stockLow" class="metric-value">-</span>
                                    </div>
                                </div>
                            </div>
                            <div class="stock-chart">
                                <div id="stockChart" class="chart-container"></div>
                            </div>
                        </div>
                        <div id="answerCardConfidence" class="answer-card-confidence"></div>
                    </div>

                    <!-- NEW Sources Accordion -->
                    <div class="sources-accordion">
                        <button type="button" class="accordion-header">
                            <span>Sources <span class="source-count">3</span></span>
                            <i class="fas fa-chevron-down"></i>
                        </button>
                        <div class="accordion-content">
                            <div class="source-list">
                                <div class="source-item">
                                    <div class="source-icon"><i class="fas fa-file-alt"></i></div>
                                    <div class="source-details">
                                        <a href="#">Source Document 1 Title</a>
                                        <p>Brief description or snippet from source 1...</p>
                                    </div>
                                </div>
                                <div class="source-item">
                                     <div class="source-icon"><i class="fas fa-external-link-alt"></i></div>
                                     <div class="source-details">
                                        <a href="#">External Article Link</a>
                                        <p>Summary of the linked external article...</p>
                                    </div>
                                </div>
                                <div class="source-item">
                                     <div class="source-icon"><i class="fas fa-database"></i></div>
                                     <div class="source-details">
                                        <a href="#">Internal Data Source</a>
                                        <p>Description of the internal data used...</p>
                                    </div>
                                </div>
                                <!-- Add more source items if needed -->
                            </div>
                        </div>
                    </div>
                    <!-- End Sources Accordion -->

                </div>
            </section>
            
            <!-- 2. Wayfind Section (Standard Results) -->
            <section id="wayfindSection" class="results-section wayfind-section">
                <h4 class="section-title"><i class="fas fa-search"></i> Related Results</h4>
                <div class="wayfind-list">
                    <div class="wayfind-item">
                        <div class="wayfind-icon"><i class="fas fa-link"></i></div>
                        <div class="wayfind-content">
                            <a href="#">High-Yield Savings Account Comparison</a>
                            <p>Comparing the best high-yield savings accounts.</p>
                        </div>
                    </div>
                    <div class="wayfind-item">
                         <div class="wayfind-icon"><i class="fas fa-link"></i></div>
                         <div class="wayfind-content">
                            <a href="#">Current Interest Rates on Savings</a>
                            <p>Tracking the latest interest rates for savings products.</p>
                        </div>
                    </div>
                    <div class="wayfind-item">
                         <div class="wayfind-icon"><i class="fas fa-link"></i></div>
                         <div class="wayfind-content">
                            <a href="#">FDIC Insurance Explained</a>
                            <p>Understanding how FDIC insurance protects your deposits.</p>
                        </div>
                    </div>
                    <div class="wayfind-item">
                         <div class="wayfind-icon"><i class="fas fa-link"></i></div>
                         <div class="wayfind-content">
                            <a href="#">Moving Money Between Accounts</a>
                            <p>Tips for efficiently transferring funds between accounts.</p>
                        </div>
                    </div>
                    <div class="wayfind-item">
                         <div class="wayfind-icon"><i class="fas fa-link"></i></div>
                         <div class="wayfind-content">
                            <a href="#">Placeholder Result 5</a>
                            <p>Description for placeholder result number five.</p>
                        </div>
                    </div>
                     <div class="wayfind-item">
                         <div class="wayfind-icon"><i class="fas fa-link"></i></div>
                         <div class="wayfind-content">
                            <a href="#">Placeholder Result 6</a>
                            <p>Description for placeholder result number six.</p>
                        </div>
                    </div>
                     <div class="wayfind-item">
                         <div class="wayfind-icon"><i class="fas fa-link"></i></div>
                         <div class="wayfind-content">
                            <a href="#">Placeholder Result 7</a>
                            <p>Description for placeholder result number seven.</p>
                        </div>
                    </div>
                     <div class="wayfind-item">
                         <div class="wayfind-icon"><i class="fas fa-link"></i></div>
                         <div class="wayfind-content">
                            <a href="#">Placeholder Result 8</a>
                            <p>Description for placeholder result number eight.</p>
                        </div>
                    </div>
                     <div class="wayfind-item">
                         <div class="wayfind-icon"><i class="fas fa-link"></i></div>
                         <div class="wayfind-content">
                            <a href="#">Placeholder Result 9</a>
                            <p>Description for placeholder result number nine.</p>
                        </div>
                    </div>
                     <div class="wayfind-item">
                         <div class="wayfind-icon"><i class="fas fa-link"></i></div>
                         <div class="wayfind-content">
                            <a href="#">Placeholder Result 10</a>
                            <p>Description for placeholder result number ten.</p>
                        </div>
                    </div>
                     <div class="wayfind-item">
                         <div class="wayfind-icon"><i class="fas fa-link"></i></div>
                         <div class="wayfind-content">
                            <a href="#">Placeholder Result 11</a>
                            <p>Description for placeholder result number eleven.</p>
                        </div>
                    </div>
                     <div class="wayfind-item">
                         <div class="wayfind-icon"><i class="fas fa-link"></i></div>
                         <div class="wayfind-content">
                            <a href="#">Placeholder Result 12</a>
                            <p>Description for placeholder result number twelve.</p>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <!-- Floating Search Container -->
    <div class="floating-search-container">
        <div class="floating-search-wrapper container">
            <input type="text" id="searchInput" placeholder="Search for financial services, products, or advisors..." autocomplete="off">
            <button id="searchButton"><i class="fas fa-search"></i></button>
            <div id="suggestionsContainer" class="suggestions-container"></div>
        </div>
    </div>

    <!-- Info Modal Structure -->
    <div id="infoModal" class="modal">
        <div class="modal-content">
            <span class="close-modal" id="closeInfoModal">&times;</span>
            <h3>Demo Query Guide</h3>
            <p>This demo showcases different answer types based on your query:</p>
            <ul>
                <li><strong>Stock Tickers:</strong> Try <code>AAPL</code>, <code>GOOGL</code>, <code>MSFT</code>, <code>AMZN</code>, or <code>TSLA</code> for live data and charts.</li>
                <li><strong>Specific Topics:</strong>
                    <ul>
                        <li>Keywords like "compare rates" show a savings rate chart.</li>
                        <li>Keywords like "invest" or "stock" give general investment info.</li>
                        <li>Keywords like "crypto" or "bitcoin" explain cryptocurrency.</li>
                        <li>Keywords like "loan" or "mortgage" explain mortgages.</li>
                    </ul>
                </li>
                <li><strong>Default Topic:</strong> Searching "high-yield savings account" or leaving the search empty shows detailed HYSA info.</li>
                <li><strong>Other Queries:</strong> Any other search term will result in a generic placeholder answer.</li>
            </ul>
            <hr style="margin: 20px 0;">
            <h4>Typeahead Suggestions</h4>
            <p>As you type in the search bar, you'll see different kinds of suggestions:</p>
             <ul>
                <li><strong>Financial Terms:</strong> Basic matching terms (e.g., typing "sto" suggests "Stocks").</li>
                <li><strong>Stock Tickers:</strong> If you type 1-5 uppercase letters (e.g., <code>AA</code>), matching stock tickers appear with live price/change data.</li>
                <li><strong>Personalized (Example):</strong> If you type 3 or more characters, an example personalized suggestion (like checking an account balance) may appear.</li>
            </ul>
            <hr style="margin: 20px 0;">
            <p>Use the Confidence Slider to see how the layout changes!</p>
        </div>
    </div>

    <script src="expSearchFloatingInput.js"></script>
</body>
</html> 